<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Blade & Soul Neo EU/NA Field Boss Timer by Hayder (Kindle) - BNS Boss Tracker</title>
        <!-- SEO Meta Tags -->
        <meta name="description"
              content="Free Blade & Soul Neo EU/NA field boss timer by Hayder (Kindle) with real-time countdown, spawn alerts, and community-driven schedules for Silverfrost and Moonwater regions. Never miss a boss spawn on EU or NA servers!">
        <meta name="keywords"
              content="Blade and Soul, BNS Neo, field boss timer, boss tracker, BNS EU, BNS NA, BNS EU/NA, Silverfrost, Moonwater, Primeval Forest, Skypetal Plains, boss spawn times, BNS timer, gaming timer, Hayder, Kindle, BNS Neo timer Hayder, Hayder BNS, Kindle BNS">
        <meta name="author" content="Kindle (Hayder)">
        <meta name="robots" content="index, follow">
        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:url"
              content="https://hayderch.github.io/bns-neo-boss-timer/">
        <meta property="og:title" content="Blade & Soul Neo EU/NA Field Boss Timer">
        <meta property="og:description"
              content="Track field boss spawns for EU and NA servers with real-time alerts. Community-driven, free, no ads. Help us add more spawn data!">
        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url"
              content="https://hayderch.github.io/bns-neo-boss-timer/">
        <meta property="twitter:title"
              content="Blade & Soul Neo EU/NA Field Boss Timer">
        <meta property="twitter:description"
              content="Track field boss spawns with real-time alerts. Community-driven, free, no ads.">
        <!-- PWA Manifest -->
        <link rel="manifest" href="manifest.json">
        <meta name="theme-color" content="#16213e">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style"
              content="black-translucent">
        <meta name="apple-mobile-web-app-title" content="BNS Timer">
        <link rel="apple-touch-icon" href="assets/icon-192.svg">
        <link rel="icon" type="image/svg+xml" href="assets/icon-192.svg">
        <link rel="icon" type="image/x-icon" href="favicon.ico">
        <link rel="stylesheet" href="styles.css?v=1.8.5">
        <link rel="canonical" href="https://hayderch.github.io/bns-neo-boss-timer/">
        <!-- Inline version check - runs BEFORE cached script.js -->
        <script>
            (function() {
                var APP_VERSION = '1.8.5';
                var stored = localStorage.getItem('bns-app-version');
                if (stored && stored !== APP_VERSION) {
                    localStorage.setItem('bns-app-version', APP_VERSION);
                    // Clear all caches and force reload
                    if ('caches' in window) {
                        caches.keys().then(function(names) {
                            names.forEach(function(name) { caches.delete(name); });
                        });
                    }
                    // Unregister service workers
                    if ('serviceWorker' in navigator) {
                        navigator.serviceWorker.getRegistrations().then(function(regs) {
                            regs.forEach(function(reg) { reg.unregister(); });
                        });
                    }
                    location.reload(true);
                } else if (!stored) {
                    localStorage.setItem('bns-app-version', APP_VERSION);
                }
            })();
        </script>
        <!-- Analytics -->
        <script src="analytics/config.js"></script>
        <script src="analytics/tracker.js"></script>
    </head>
    <body>
        <div class="container">
            <header>
                <h1>ğŸ—¡ï¸ Blade & Soul Neo Tools</h1>
                <!-- Navigation Bar -->
                <nav class="tool-nav" id="tool-nav">
                    <button class="nav-tab active" data-tool="timer">ğŸ• Boss Timer</button>
                    <button class="nav-tab" data-tool="sf-calculator">ğŸ“Š SF Calculator</button>
                    <button class="nav-tab" data-tool="converter">ğŸ’± Probability to Currency</button>
                    <button class="nav-tab" data-tool="market-news">ğŸ’ Market News</button>
                </nav>
                <!-- Region Subtabs (only visible when Boss Timer is active) -->
                <nav class="region-nav" id="region-nav">
                    <button class="region-tab active" data-region="eu">ğŸŒ EU (UTC+1)</button>
                    <button class="region-tab" data-region="na">ğŸŒ NA (UTC-6)</button>
                </nav>
                <div class="server-time-notice"
                     id="server-time-notice"
                     style="background: #fff3cd;
                            border: 1px solid #ffc107;
                            padding: 0.5rem 1rem;
                            margin: 0.5rem 0;
                            border-radius: 8px;
                            text-align: center;
                            color: #856404">
                    â° <strong id="server-time-text">All times shown are EU Server Time (UTC+1)</strong>
                </div>
                <div class="loading-bar" id="loading-bar"></div>
                <div class="header-controls">
                    <div class="volume-control">
                        <label for="volume-slider">ğŸ”Š Volume:</label>
                        <input type="range" id="volume-slider" min="0" max="100" value="50">
                        <span id="volume-value">50%</span>
                    </div>
                    <button id="theme-toggle-btn"
                            class="theme-toggle-btn"
                            title="Toggle light/dark theme">ğŸŒ™ Dark Mode</button>
                    <button id="notification-toggle-btn"
                            class="notification-btn"
                            title="Enable browser notifications for boss spawns">ğŸ”• Notifications OFF</button>
                    <button id="export-calendar-btn"
                            class="export-btn"
                            title="Download today's spawns as calendar file">ğŸ“… Export to Calendar</button>
                </div>
            </header>
            <!-- Boss Timer Message -->
            <div class="community-message" id="boss-timer-message">
                <p style="font-size: 0.95em; margin-bottom: 0.5rem;">
                    ğŸŒ These boss times are based on data collected by our friends from the Taiwanese community. Thank you for your contributions!
                </p>
                <p class="last-updated" id="last-updated">
                    ğŸ“… Data last updated: <span id="update-time">Loading...</span>
                </p>
            </div>
            <!-- SF Calculator Message -->
            <div class="community-message hidden" id="sf-calculator-message">
                <p>
                    <strong>âš¡ Powered by Gunner Soha.</strong>
                </p>
                <div class="guide-content">
                    <p>
                        <strong>ğŸ“– Quick Guide:</strong>
                    </p>
                    <ol class="guide-steps">
                        <li>Select your dungeon from the dropdown</li>
                        <li>Fill in your SF (Slot 1 - You)</li>
                        <li>Add party members' SF as they join</li>
                        <li>Check the recommended target for remaining slots</li>
                        <li>Use "Copy for World Chat" to recruit more players</li>
                    </ol>
                    <p class="guide-tip">
                        ğŸ’¡ <strong>Tip:</strong> Adjust SF Tolerance for flexible recruitment ranges!
                    </p>
                </div>
            </div>
            <!-- Probability to Currency Converter Message -->
            <div class="community-message hidden" id="converter-message">
                <p>
                    <strong>âš¡ Powered by Brother Hajoon (Or Scamjoon?)</strong>
                </p>
                <div class="guide-content">
                    <p>
                        <strong>ğŸ“– Quick Guide:</strong>
                    </p>
                    <ol class="guide-steps">
                        <li>Choose converter type: Fixed Ratio or Probability</li>
                        <li>Name your currencies (e.g., Gold, Keys, Materials)</li>
                        <li>Enter amounts and rates</li>
                        <li>See instant calculations with confidence levels</li>
                        <li>Plan your farming routes efficiently!</li>
                    </ol>
                    <p class="guide-tip">
                        ğŸ’¡ <strong>Tip:</strong> Use probability mode to see how (un)lucky you might get!
                    </p>
                </div>
            </div>
            <!-- Boss Timer View (Default) -->
            <div class="timer-layout" id="timer-layout">
                <!-- Promotional Sidebar -->
                <aside class="promo-sidebar" id="promo-sidebar">
                    <!-- Street Outfit Chest Promotional Box - REMOVED (Event Ended) -->
                    <!-- NEW: Celestial x Dragon Alliance Promotional Box (BOX #2) -->
                    <div class="promo-box alliance-promo featured-promo"
                         onclick="openAllianceModal()">
                        <div class="promo-icon-dual">
                            <img src="assets/celestial.png" alt="Celestial" class="promo-img-dual">
                            <span class="alliance-cross">âœ•</span>
                            <img src="assets/dragon clan.png" alt="Dragon" class="promo-img-dual">
                        </div>
                        <h3>âš”ï¸ Celestial Ã— Dragon Alliance</h3>
                        <p>
                            Join the <strong>Celestial Ã— Dragon alliance</strong> â€” whether you're <strong>Cerulean Order</strong> or <strong>Crimson Legion</strong>, our alliance is happy to take you in!
                        </p>
                        <p class="highlight-text">
                            <strong>Two factions. One community.</strong>
                        </p>
                        <span class="promo-cta">ğŸ›¡ï¸ See Details â†’</span>
                    </div>
                    <div class="promo-box sf-promo"
                         onclick="window.location.hash='sf-calculator'">
                        <div class="promo-icon">ğŸ“Š</div>
                        <h3>SF Calculator</h3>
                        <p>
                            Planning Challenge Mode or Normal Mode? Our SF Calculator helps you recruit <strong>exactly the right SF</strong> for your party. No more guesswork â€” build the perfect team!
                        </p>
                        <span class="promo-cta">Try it now â†’</span>
                    </div>
                    <div class="promo-box probability-promo"
                         onclick="window.location.hash='converter'">
                        <div class="promo-icon">ğŸ²</div>
                        <h3>Probability to Currency</h3>
                        <p>
                            Want to detect <strong>Scamjoon</strong> and know how much gamba will really cost you? Our calculator uses <strong>universal mathematical probability</strong> â€” accurate and reliable!
                        </p>
                        <span class="promo-cta">Calculate odds â†’</span>
                    </div>
                    <div class="promo-box celestial-promo"
                         onclick="window.location.hash='converter'">
                        <div class="promo-icon">
                            <img src="assets/celestial.png" alt="Celestial" class="promo-img">
                        </div>
                        <h3>Celestial EU Clan â€” Recruiting</h3>
                        <p>
                            Kindle, the developer, is a member of Celestial and weâ€™re recruiting. Clan details: <strong>Rank 10</strong>.
                        </p>
                        <p>
                            We welcome casual but active players â€” message <strong>Niami Kiri</strong> (Clan Leader, Discord: <strong>Ã„lskade Ã…sna</strong>).
                        </p>
                    </div>
                </aside>
                <main id="boss-container" class="tool-view active">
                    <!-- Boss regions and timers will be rendered here by JavaScript -->
                    <!-- PATCH UPDATE: Timer code temporarily disabled - DO NOT DELETE -->
                    <!-- <p class="loading">Loading boss schedules...</p> -->
                    <!-- Maintenance Message -->
                    <div class="maintenance-message"
                         style="text-align: center;
                                padding: 3rem 2rem;
                                background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
                                border-radius: 12px;
                                margin: 2rem auto;
                                max-width: 600px;
                                box-shadow: 0 4px 20px rgba(0,0,0,0.3)">
                        <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ”§</div>
                        <h2 style="color: #ffc107; margin-bottom: 1rem; font-size: 1.8rem;">
                            âš ï¸ Patch Update - Data Recollection in Progress
                        </h2>
                        <p style="color: #e0e0e0;
                                  font-size: 1.1rem;
                                  line-height: 1.6;
                                  margin-bottom: 1rem">A new game patch has changed boss spawn times.</p>
                        <p style="color: #b0b0b0;
                                  font-size: 1rem;
                                  line-height: 1.6;
                                  margin-bottom: 1.5rem">
                            We are currently collecting new timing data from the community. This process typically takes <strong style="color: #4fc3f7;">approximately one week</strong>.
                        </p>
                        <div style="background: rgba(255,193,7,0.1);
                                    border: 1px solid #ffc107;
                                    border-radius: 8px;
                                    padding: 1rem;
                                    margin-top: 1rem">
                            <p style="color: #ffc107; margin: 0; font-size: 0.95rem;">
                                ğŸ“… <strong>Expected Return:</strong> ~January 28, 2026
                            </p>
                        </div>
                        <p style="color: #888; font-size: 0.9rem; margin-top: 1.5rem;">Thank you for your patience! ğŸ™</p>
                    </div>
                </main>
            </div>
            <!-- SF Calculator View -->
            <main id="sf-calculator-container" class="tool-view">
                <div class="sf-calculator">
                    <h2 class="calculator-title">âš”ï¸ Supreme Force Party Calculator</h2>
                    <p class="calculator-subtitle">Build your Challenge Mode party with optimal SF distribution</p>
                    <!-- Dungeon Selection -->
                    <div class="dungeon-selection">
                        <label for="dungeon-selector">Select Dungeon:</label>
                        <select id="dungeon-selector" class="dungeon-dropdown">
                            <option value="manual">None - Manual Entry</option>
                            <!-- Populated by JavaScript -->
                        </select>
                    </div>
                    <!-- Requirements Input -->
                    <div class="requirements-section">
                        <h3>
                            Requirements <span id="modified-indicator" class="hidden">âœï¸ Modified</span>
                        </h3>
                        <div class="requirement-inputs">
                            <div class="input-group">
                                <label for="min-sf-input">Min Individual SF:</label>
                                <input type="number"
                                       id="min-sf-input"
                                       class="sf-input"
                                       placeholder="Enter minimum SF"
                                       min="0"
                                       step="1">
                            </div>
                            <div class="input-group">
                                <label for="max-avg-input">Max Party Average:</label>
                                <input type="number"
                                       id="max-avg-input"
                                       class="sf-input"
                                       placeholder="Enter max average SF"
                                       min="0"
                                       step="1">
                            </div>
                            <button id="reset-preset-btn" class="reset-preset-btn hidden">â†º Reset to Preset</button>
                        </div>
                    </div>
                    <!-- Party Composition -->
                    <div class="party-section">
                        <h3>Party Composition</h3>
                        <div id="party-slots" class="party-slots">
                            <!-- Slots 1-6 populated by JavaScript -->
                        </div>
                    </div>
                    <!-- Party Status -->
                    <div class="party-status" id="party-status">
                        <div class="status-item">
                            <span class="status-label">Current Average:</span>
                            <span class="status-value" id="current-avg">â€”</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Budget Remaining:</span>
                            <span class="status-value" id="budget-remaining">â€”</span>
                        </div>
                        <div class="status-item full-width">
                            <span class="status-label">Status:</span>
                            <span class="status-value status-indicator" id="party-status-indicator">Enter requirements to start</span>
                        </div>
                    </div>
                    <!-- World Chat Options -->
                    <div class="world-chat-options">
                        <label for="tolerance-input">
                            SF Tolerance (for recruitment message):
                            <span class="tolerance-hint">Â±0k = exact target, Â±2k = flexible range</span>
                        </label>
                        <div class="tolerance-input-group">
                            <span class="tolerance-label">Â±</span>
                            <input type="number"
                                   id="tolerance-input"
                                   class="tolerance-input"
                                   value="0"
                                   min="0"
                                   max="10"
                                   step="1">
                            <span class="tolerance-unit">k SF</span>
                        </div>
                    </div>
                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button id="copy-world-chat-btn" class="copy-world-chat-btn">ğŸ“‹ Copy for World Chat</button>
                        <button id="reset-party-btn" class="reset-party-btn">ğŸ”„ Reset Party</button>
                    </div>
                </div>
            </main>
            <!-- Probability to Currency Converter View -->
            <main id="converter-container" class="tool-view">
                <div class="converter-tool">
                    <h2 class="converter-title">ğŸ’± Probability to Currency Converter</h2>
                    <p class="converter-subtitle">Build conversion chains with multiple steps and branching paths</p>
                    <!-- Step Builder Container -->
                    <div id="steps-container" class="steps-container">
                        <!-- Steps will be added dynamically -->
                    </div>
                    <!-- Add Step Button -->
                    <button id="add-step-btn" class="add-step-btn">â• Add Conversion Step</button>
                    <!-- Cumulative Results -->
                    <div id="cumulative-results" class="cumulative-results hidden">
                        <h3>ğŸ“Š Final Results (All Paths)</h3>
                        <div id="results-list" class="results-list">
                            <!-- Cumulative results will be shown here -->
                        </div>
                    </div>
                    <!-- Reset Button -->
                    <button id="reset-converter-btn" class="reset-converter-btn">ğŸ”„ Reset All Steps</button>
                </div>
            </main>
            <!-- Market News View -->
            <main id="market-news-container" class="tool-view">
                <div class="market-news-tool">
                    <h2 class="market-news-title">ğŸ’ Market News</h2>
                    <p class="market-news-subtitle">Stay tuned for upcoming market analysis and events!</p>
                    <!-- Empty State Message -->
                    <div style="text-align: center;
                                padding: 4rem 2rem;
                                background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
                                border-radius: 12px;
                                margin: 2rem 0">
                        <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ“°</div>
                        <h3 style="color: #4fc3f7; margin-bottom: 1rem;">No Active Market News</h3>
                        <p style="color: #b0b0b0; font-size: 1rem; line-height: 1.6;">
                            There are currently no special events or market updates to report.
                        </p>
                        <p style="color: #888; font-size: 0.9rem; margin-top: 1rem;">
                            Check back soon for the latest gem-to-gold analysis and event coverage!
                        </p>
                    </div>
                </div>
            </main>
            <footer>
                <p id="footer-content">
                    Made with ğŸ’™ by <strong>Hayder (Kindle)</strong> for the BNS Neo EU community
                </p>
            </footer>
            <section class="about-section">
                <h2>ğŸ‘¨â€ğŸ’» About the Developer</h2>
                <p>
                    <strong>Hayder</strong> â€” AI Engineering Student (not a web dev student ğŸ˜…)
                </p>
                <p>
                    ğŸ® In-game name: <strong>Kindle</strong>
                </p>
                <p>ğŸ¦— Have fun, crickets!</p>
            </section>
            <div class="surprise-section">
                <details>
                    <summary>ğŸ Tap for surprise</summary>
                    <p class="surprise-content">KFM players are BASED! ğŸ”¥ğŸ’ª</p>
                </details>
            </div>
        </div>
        <audio id="alarm-sound" preload="auto">
            <source src="assets/notification.mp3" type="audio/mpeg">
        </audio>
        <audio id="primeval-alarm" preload="auto">
            <source src="assets/workfaster.mp3" type="audio/mpeg">
        </audio>
        <!-- Alliance Modal -->
        <div id="alliance-modal" class="modal">
            <div class="modal-content">
                <span class="modal-close" onclick="closeAllianceModal()">&times;</span>
                <h2 class="modal-title">âš”ï¸ Celestial Ã— Dragon Alliance</h2>
                <p class="modal-subtitle">Two factions. One community. Join us today!</p>
                <!-- Celestial Clan Section -->
                <div class="clan-section cerulean-section">
                    <div class="clan-header">
                        <img src="assets/celestial.png" alt="Celestial" class="clan-icon">
                        <div class="clan-info">
                            <h3>Celestial (Cerulean Order)</h3>
                            <p class="clan-leader">
                                ğŸ‘‘ Leader: <strong>Niami Kiri</strong> (Discord: <strong>Ã„lskade Ã…sna</strong>)
                            </p>
                        </div>
                    </div>
                    <div class="clan-details">
                        <p class="intro-text">
                            Hello! I'm Kiri, clan leader for <strong>Celestial & Celestials</strong>. We're currently looking for more Cerulean players to join us!
                        </p>
                        <div class="clan-stats">
                            <h4>ğŸ“Š Clan Rankings (Updated: Jan 6, 2026)</h4>
                            <ul>
                                <li>
                                    <strong>Celestial</strong> â€” <span class="rank-badge rank-10">Rank 10</span>
                                </li>
                                <li>
                                    <strong>Celestials</strong> â€” <span class="rank-badge rank-5">Rank 5</span>
                                </li>
                            </ul>
                        </div>
                        <div class="benefits-section">
                            <img src="assets/celestial clan fee reduction.png"
                                 alt="Clan Benefits"
                                 class="benefits-img">
                        </div>
                        <div class="what-we-offer">
                            <h4>âœ¨ What We Offer:</h4>
                            <p>
                                An active and friendly community to find dungeon parties, ask questions, and most importantly, have fun together!
                            </p>
                        </div>
                        <div class="what-we-seek">
                            <h4>ğŸ” What We're Looking For:</h4>
                            <ul>
                                <li>
                                    <strong>Active & Social Players</strong> â€” We're a bunch of big yappers trying to progress together!
                                </li>
                                <li>
                                    <strong>8k+ SF Recommended</strong> â€” Looking for fairly established players ready for purple dungeons
                                </li>
                                <li>
                                    <strong>Discord Required</strong> â€” Communication is key! (No voice chat obligation, just text)
                                </li>
                                <li>
                                    <strong>Gold Donations</strong> â€” Small contributions when possible help us expand
                                </li>
                            </ul>
                            <p class="casual-note">
                                <em>Note: We're also open to casual players as long as you're active!</em>
                            </p>
                        </div>
                        <div class="contact-section">
                            <p>
                                ğŸ’¬ <strong>Interested?</strong> Message <strong>Niami Kiri</strong> in-game or DM <strong>Ã„lskade Ã…sna</strong> on Discord!
                            </p>
                        </div>
                    </div>
                </div>
                <!-- Dragon Clan Section -->
                <div class="clan-section crimson-section">
                    <div class="clan-header">
                        <img src="assets/dragon clan.png" alt="Dragon" class="clan-icon">
                        <div class="clan-info">
                            <h3>Dragon (Crimson Legion)</h3>
                            <p class="clan-leader">
                                ğŸ‘‘ Leader: <strong>Maple Leaf</strong> (Discord: <strong>Maple Leaf/Lardino</strong>)
                            </p>
                        </div>
                    </div>
                    <div class="clan-details">
                        <p class="intro-text">
                            Hello! I'm Maple Leaf, leader of <strong>Dragon EU</strong>. We're looking for members to revive and grow our clan!
                        </p>
                        <div class="clan-stats">
                            <h4>ğŸ“Š Clan Rankings</h4>
                            <ul>
                                <li>
                                    <strong>Dragon</strong> â€” <span class="rank-badge rank-5">Rank 5</span>
                                </li>
                            </ul>
                        </div>
                        <div class="what-we-offer">
                            <h4>âœ¨ What We Offer:</h4>
                            <p>
                                Friendship and access to a helpful community that plays various games including BNS NEO. We're part of the Celestial alliance Discord!
                            </p>
                        </div>
                        <div class="what-we-seek">
                            <h4>ğŸ” What We're Looking For:</h4>
                            <ul>
                                <li>
                                    <strong>Mains Welcome</strong> â€” Looking for committed players to help the clan grow
                                </li>
                                <li>
                                    <strong>No SF Requirement</strong> â€” Beginner and returner friendly!
                                </li>
                                <li>
                                    <strong>Discord Access</strong> â€” Join our merged Discord with Celestial
                                </li>
                                <li>
                                    <strong>Multilingual Community</strong> â€” All languages are welcome in voice chat but the main language is English
                                </li>
                            </ul>
                        </div>
                        <div class="contact-section">
                            <p>
                                ğŸ’¬ <strong>Interested?</strong> Message <strong>Maple Leaf</strong> in-game or DM <strong>Maple Leaf/Lardino</strong> on Discord!
                            </p>
                            <p class="discord-link">
                                ğŸ”— Discord: <strong>73vNzKcqWy</strong>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="dungeons.js?v=1.8.5"></script>
        <script src="script.js?v=1.8.5"></script>
    </body>
</html>
